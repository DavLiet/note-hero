(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){},102:function(e,t,a){e.exports=a.p+"static/media/cartoon.6ed041ae.png"},103:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(31),s=a.n(o),c=(a(42),a(4)),l=a(5),r=a(8),u=a(6),h=a(7),d=a(18),m=a.n(d),p=(a(62),a(15)),b=a.n(p);b.a.initializeApp({apiKey:"AIzaSyBulew_BaByeY3dozl-MM537yQUS9-K8P8",authDomain:"final-project-4678c.firebaseapp.com",databaseURL:"https://final-project-4678c.firebaseio.com",projectId:"final-project-4678c",storageBucket:"final-project-4678c.appspot.com",messagingSenderId:"942991858994"});var g=b.a.auth(),f=b.a,v=a(107),j=a(106),y=a(19),E=a(3),O=(a(78),a(108)),x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).onChange=a.onChange.bind(Object(E.a)(Object(E.a)(a))),a.submitSignIn=a.submitSignIn.bind(Object(E.a)(Object(E.a)(a))),a.state={email:"",password:""},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"onChange",value:function(e){this.setState(Object(y.a)({},e.target.name,e.target.value))}},{key:"submitSignIn",value:function(e){var t=this;e.preventDefault(),g.signInWithEmailAndPassword(this.state.email,this.state.password).then(function(){console.log("SUCCESSFUL SIGNIN"),t.props.history.push("/09-final-project-david_lie-tjauw/"),console.log("USER: ".concat(g.currentUser))}).catch(function(e){alert("The following errror occurred: \n ".concat(e))})}},{key:"render",value:function(){return i.a.createElement("div",{id:"signIn"},i.a.createElement("h1",{style:{color:"#34495e",textDecoration:"none"}},"Sign In to NoteHero"),i.a.createElement("form",{onSubmit:this.submitSignIn},i.a.createElement("input",{class:"signInField",name:"email",onChange:this.onChange,type:"text",placeholder:"Email Address"}),i.a.createElement("input",{class:"signInField",name:"password",onChange:this.onChange,type:"text",placeholder:"Password"}),i.a.createElement("button",{id:"signInButton",type:"submit"},"Sign In")))}}]),t}(n.Component),k=Object(O.a)(x),S=(a(83),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={email:"",password:""},a.submitSignIn=a.submitSignIn.bind(Object(E.a)(Object(E.a)(a))),a.onChange=a.onChange.bind(Object(E.a)(Object(E.a)(a))),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"onChange",value:function(e){this.setState(Object(y.a)({},e.target.name,e.target.value))}},{key:"submitSignIn",value:function(e){var t=this;e.preventDefault(),g.createUserWithEmailAndPassword(this.state.email,this.state.password).then(function(){t.props.history.push("/09-final-project-david_lie-tjauw/")}).catch(function(e){alert("The following errror occurred: \n ".concat(e))})}},{key:"render",value:function(){return i.a.createElement("div",{id:"signUp"},i.a.createElement("h1",{style:{color:"#34495e",textDecoration:"none"}},"Sign Up for NoteHero"),i.a.createElement("form",{onSubmit:this.submitSignIn},i.a.createElement("input",{class:"signUpField",name:"email",onChange:this.onChange,type:"text",placeholder:"Email Address"}),i.a.createElement("input",{class:"signUpField",name:"password",onChange:this.onChange,type:"text",placeholder:"Password"}),i.a.createElement("button",{id:"signUpButton",type:"submit"},"Sign Up")))}}]),t}(n.Component)),T=Object(O.a)(S),w=a(36),C=(a(85),a(87),a(105)),N=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={imgURL:"",title:"",uniqueKey:"",text:""},a.deletePost=a.deletePost.bind(Object(E.a)(Object(E.a)(a))),a.updateNoteText=a.updateNoteText.bind(Object(E.a)(Object(E.a)(a))),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.imgURL,a=e.title,n=e.uniqueKey,i=e.text;this.setState({imgURL:t}),this.setState({title:a}),this.setState({uniqueKey:n}),this.setState({text:i})}},{key:"deletePost",value:function(){this.props.deleteAction(this.state.uniqueKey)}},{key:"updateNoteText",value:function(e,t){this.state.posts.forEach(function(a){a.key===e&&(a.text=t)})}},{key:"render",value:function(){return console.log("notethumbnail: ".concat(this.state.uniqueKey)),i.a.createElement("div",{id:"thumbnail"},i.a.createElement("div",{class:"header"},i.a.createElement("h1",null,this.state.title),i.a.createElement("button",{className:"delete",onClick:this.deletePost},"Delete"),i.a.createElement(C.a,{className:"seeNote",to:{pathname:"/09-final-project-david_lie-tjauw/yourNote",state:{text:this.state.text,key:this.state.uniqueKey,title:this.state.title}}},i.a.createElement("button",null,"View/Edit"))),i.a.createElement("img",{src:this.state.imgURL,alt:"Avatar",style:{width:"100%"}}))}}]),t}(n.Component),U=(a(89),function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={posts:[],username:""};var n=f.storage().ref();a.storageRef=n;var i=f.database();return a.database=i,a.deleteNote=a.deleteNote.bind(Object(E.a)(Object(E.a)(a))),a.getUsername=a.getUsername.bind(Object(E.a)(Object(E.a)(a))),a.updateNoteText=a.updateNoteText.bind(Object(E.a)(Object(E.a)(a))),console.log(f.auth().currentUser),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"getUsername",value:function(){}},{key:"getPosts",value:function(e){var t=e.split("@")[0];this.setState({username:t}),this.database.ref(t).on("value",function(e){var t=this;console.log("USER NOTES IS BEING RETRIEVED AGAIN");var a=[];e.hasChildren()&&e.forEach(function(e){var n={key:e.key,text:e.child("text").val(),imgURL:e.child("imgURL").val(),title:e.child("title").val()};a.push(n),t.setState({posts:Object(w.a)(t.state.posts).concat([n])})}),this.setState({posts:a.concat()})}.bind(this))}},{key:"componentDidMount",value:function(){var e=this;g.onAuthStateChanged(function(t){t?e.getPosts(t.email):e.setState({userName:null})})}},{key:"deleteNote",value:function(e){var t=this;this.database.ref("".concat(this.state.username,"/").concat(e)).remove().then(function(){console.log("Successful deletion: ".concat(e))}).catch(function(){console.log("There was an error when deleetintgf....")}),this.state.posts.forEach(function(a,n){a.key===e&&t.setState({posts:t.state.posts.filter(function(e,t){return t!==n})})})}},{key:"updateNoteText",value:function(e,t){this.state.posts.forEach(function(a){a.key===e&&(a.text=t)})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"posts"},this.state.posts.map(function(t,a){return console.log(t.key),i.a.createElement(N,{deleteAction:e.deleteNote,key:t.key,uniqueKey:t.key,text:t.text,imgURL:t.imgURL,title:t.title})}))}}]),t}(n.Component)),I=(a(93),a(34)),F=a(35),R=a(15),A=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={editableText:null,currFileUrl:null,title:null,isFetching:!1},a.handleFile=a.handleFile.bind(Object(E.a)(Object(E.a)(a))),a.makeRequest=a.makeRequest.bind(Object(E.a)(Object(E.a)(a))),a.saveText=a.saveText.bind(Object(E.a)(Object(E.a)(a))),a.updateText=a.updateText.bind(Object(E.a)(Object(E.a)(a))),a.updateTitle=a.updateTitle.bind(Object(E.a)(Object(E.a)(a)));var n=R.storage().ref();a.storageRef=n;var i=R.database();return a.database=i,a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"saveText",value:function(){var e=this,t=this.state.editableText,a=this.state.currFileUrl,n=this.state.title;if(t&&a&&n){var i=g.currentUser.email.split("@")[0];this.database.ref("".concat(i)).push({text:"".concat(t),imgURL:"".concat(a),title:"".concat(n)}).then(function(){console.log("Text successfully saved"),e.setState({editableText:"",title:"",currFileUrl:null,isFetching:!1})})}else alert("Please fill out all fields")}},{key:"makeRequest",value:function(e){var t=this,a={requests:[{image:{source:{imageUri:e}},features:[{type:"TEXT_DETECTION",maxResults:10}]}]};m.a.post("https://vision.googleapis.com/v1/images:annotate?key=AIzaSyCwP9xFPEqrxkOySq8r5GQ0Cyz-HUClmo0",a).then(function(e){console.log("DONE"),t.setState({editableText:e.data.responses[0].fullTextAnnotation.text}),document.getElementById("editThis").value=t.state.editableText,t.setState({isFetching:!1})}).catch(function(e){console.log(e),t.setState({isFetching:!1})})}},{key:"updateText",value:function(e){this.setState({editableText:e.target.value})}},{key:"updateTitle",value:function(e){this.setState({title:e.target.value})}},{key:"handleFile",value:function(e){this.setState({isFetching:!0});var t=e.target.files[0];this.storageRef.child("images/"+t.name).put(t).then(function(e){console.log("Uploaded",e.totalBytes,"bytes."),console.log("File metadata:",e.metadata),e.ref.getDownloadURL().then(function(e){console.log("File available at",e),this.setState({currFileUrl:e}),this.makeRequest(e)}.bind(this))}.bind(this)).catch(function(e){console.error("Upload failed:",e)})}},{key:"render",value:function(){return i.a.createElement("div",{id:"ImageForm"},i.a.createElement("div",{id:"directions"},i.a.createElement("h1",{style:{color:"#34495e",textDecoration:"none",textAlign:"center"}},"Upload Your Notes to NoteHero"),i.a.createElement("p",null,"NoteHero uses the power of Machine Learning to ",i.a.createElement("i",null,"extract")," text from pictures of your class notes."),i.a.createElement("p",null,"To start, simply upload a picture of your class notes and then NoteHero will take care of the rest!")),this.state.isFetching?i.a.createElement(I.a,{icon:F.a,size:"6x",id:"loadingIndicator",spin:!0}):null,i.a.createElement("button",{id:"saveText",onClick:this.saveText},"Save Text"),i.a.createElement("input",{type:"file",accept:"image/*",id:"file-input",onChange:this.handleFile}),i.a.createElement("textarea",{id:"editThis",value:this.state.editableText,onChange:this.updateText,placeholder:"Your Notes Here...",cols:"50",rows:"25"}),i.a.createElement("input",{type:"text",id:"title",value:this.state.title,placeholder:"Notes Title",onChange:this.updateTitle}))}}]),t}(n.Component),D=(a(95),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).signOut=a.signOut.bind(Object(E.a)(Object(E.a)(a))),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"signOut",value:function(){g.signOut().then(function(){this.props.history.push("/09-final-project-david_lie-tjauw/"),console.log(this.props),console.log("Logged Out!")}.bind(this)).catch(function(e){alert("There was an error signing you out: ".concat(e))}.bind(this))}},{key:"render",value:function(){return i.a.createElement("div",{id:"NavBar"},i.a.createElement(C.a,{id:"home",to:"/09-final-project-david_lie-tjauw/"},i.a.createElement("h2",{id:"titleNav"},"NoteHero")),this.props.authState?i.a.createElement("div",{id:"options"},i.a.createElement(C.a,{className:"navLink",to:"/09-final-project-david_lie-tjauw/uploadNotes"},"Upload Notes"),i.a.createElement(C.a,{className:"navLink",to:"/09-final-project-david_lie-tjauw/viewNotes"},"View Notes"),i.a.createElement("button",{id:"signoutBtn",onClick:this.signOut},"Sign Out")):i.a.createElement("div",{id:"options"},i.a.createElement(C.a,{className:"navLink",to:"/09-final-project-david_lie-tjauw/signIn"},"Sign In"),i.a.createElement(C.a,{className:"navLink",to:"/09-final-project-david_lie-tjauw/signUp"},"Sign Up")))}}]),t}(n.Component)),L=Object(O.a)(D),_=(a(98),a(15)),B=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={isEditing:!1,text:"",key:a.props.location.state.key},a.enableEditing=a.enableEditing.bind(Object(E.a)(Object(E.a)(a))),a.submitChanges=a.submitChanges.bind(Object(E.a)(Object(E.a)(a))),a.updateText=a.updateText.bind(Object(E.a)(Object(E.a)(a))),a.cancelChanges=a.cancelChanges.bind(Object(E.a)(Object(E.a)(a))),a.getText=a.getText.bind(Object(E.a)(Object(E.a)(a)));var n=_.database();return a.database=n,a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"getText",value:function(e,t){console.log("Your text is being called;"),console.log("Here: ".concat(e," and ").concat(t));var a=e.split("@")[0];this.database.ref("".concat(a,"/").concat(t)).on("value",function(e){this.setState({text:e.child("text").val()})}.bind(this))}},{key:"componentDidMount",value:function(){var e=this;g.onAuthStateChanged(function(t){t?e.getText(t.email,e.state.key):e.setState({text:""})})}},{key:"cancelChanges",value:function(){this.setState({isEditing:!1})}},{key:"updateText",value:function(e){this.setState({text:e.target.value})}},{key:"enableEditing",value:function(){this.setState({isEditing:!0})}},{key:"submitChanges",value:function(){console.log(this.state.key);var e=g.currentUser.email.split("@")[0];this.database.ref("".concat(e,"/").concat(this.state.key)).update({text:this.state.text}).then(function(){this.setState({text:this.state.text}),this.setState({isEditing:!1})}.bind(this))}},{key:"render",value:function(){var e=i.a.createElement("div",null,i.a.createElement("button",{class:"noteButton",onClick:this.enableEditing},"Edit Text"),i.a.createElement("div",{id:"displayText"},i.a.createElement("h1",{id:"noteTitle"},this.props.location.state.title),i.a.createElement("p",{id:"textToDisplay"},this.state.text))),t=i.a.createElement("div",{id:"editText"},i.a.createElement("div",null,i.a.createElement("button",{class:"noteButton",onClick:this.submitChanges},"Submit Changes"),i.a.createElement("button",{class:"noteButton",onClick:this.cancelChanges},"Cancel")),i.a.createElement("textarea",{onChange:this.updateText,value:this.state.text}));return i.a.createElement("div",{id:"yourNote"},this.state.isEditing?t:e)}}]),t}(n.Component),q=(a(100),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",{id:"homepage"},i.a.createElement("img",{src:a(102)}),i.a.createElement("h1",{style:{color:"#34495e",textDecoration:"none"}},"Welcome to NoteHero"),i.a.createElement("h3",null,"We've all been there before..."),i.a.createElement("h3",null,"You're professor hands you printed out notes that you then conveniently store at the bottom of your book bag along with all the additional handouts from other classes. Weeks later, you then find yourself frantically searching for that ",i.a.createElement("i",null,"one")," handout for the upcoming exam. "),i.a.createElement("h3",null,"Using NoteHero, you can avoid this scenario by easily saving and editing your printed notes for later use."),i.a.createElement("h3",null,"Simply upload a picture of your notes, and we'll take care of the rest so you can go back to focusing on what matters most."))}}]),t}(n.Component)),P=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(r.a)(this,Object(u.a)(t).call(this))).state={authState:null},e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.onAuthStateChanged(function(t){t?e.setState({authState:t}):e.setState({authState:null})})}},{key:"render",value:function(){return console.log("AUTH STATE: ".concat(this.state.authState)),i.a.createElement("div",{className:"App"},i.a.createElement(v.a,null,i.a.createElement("div",{id:"app"},i.a.createElement(L,{authState:this.state.authState}),i.a.createElement(j.a,{exact:!0,path:"/09-final-project-david_lie-tjauw/",component:q}),i.a.createElement(j.a,{path:"/09-final-project-david_lie-tjauw/signIn/",component:k}),i.a.createElement(j.a,{path:"/09-final-project-david_lie-tjauw/signUp/",component:T}),i.a.createElement(j.a,{path:"/09-final-project-david_lie-tjauw/uploadNotes/",component:A}),i.a.createElement(j.a,{path:"/09-final-project-david_lie-tjauw/viewNotes/",component:U}),i.a.createElement(j.a,{path:"/09-final-project-david_lie-tjauw/yourNote/",component:B}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},37:function(e,t,a){e.exports=a(103)},42:function(e,t,a){},62:function(e,t,a){},78:function(e,t,a){},83:function(e,t,a){},85:function(e,t,a){},87:function(e,t,a){},93:function(e,t,a){},95:function(e,t,a){},98:function(e,t,a){}},[[37,2,1]]]);
//# sourceMappingURL=main.88a378a1.chunk.js.map